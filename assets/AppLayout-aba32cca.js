import{R as B,u as Te,c as we,n as $,m as $e,a as q,t as Fe,g as Ae,d as Ee,b as ce,e as Ie,i as ue,f as Le,h as Me,j as de,k as fe,l as O,r as j,o as g,s as he,p as n,q as Pe,v as Oe,w as We,x as K,y as s,z as De,A as Re,B as M,C as W,D as Z,E as D,F as R,G as Ve,H as ee,I as Be,J as Ge}from"./index-70239bf6.js";import _e from"./Loader-1f8eda73.js";function ge(e=B){const t=e===B?Te:we(e);return function(){const{store:r}=t();return r}}const Ke=ge();function He(e=B){const t=e===B?Ke:ge(e);return function(){return t().dispatch}}const E=He();var ze=e=>{const t=e.reduce((i,r)=>{const a=$(r).chroma;return a!==void 0&&(i[a]=i[a]||$(r).name),i},{});return i=>t[i]};function Ue(e,t={}){const i=e.map(a=>$(a).pc).filter(a=>a);return $.length===0?[]:et(i,1,t).filter(a=>a.weight).sort((a,o)=>o.weight-a.weight).map(a=>a.name)}var G={anyThirds:384,perfectFifth:16,nonPerfectFifths:40,anySeventh:3},_=e=>t=>!!(t&e),qe=_(G.anyThirds),Xe=_(G.perfectFifth),Ye=_(G.anySeventh),Je=_(G.nonPerfectFifths);function Qe(e){const t=parseInt(e.chroma,2);return qe(t)&&Xe(t)&&Ye(t)}function Ze(e){const t=parseInt(e,2);return Je(t)?e:(t|16).toString(2)}function et(e,t,i){const r=e[0],a=$(r).chroma,o=ze(e),c=$e(e,!1),u=[];return c.forEach((l,d)=>{const h=i.assumePerfectFifth&&Ze(l);q().filter(f=>i.assumePerfectFifth&&Qe(f)?f.chroma===h:f.chroma===l).forEach(f=>{const p=f.aliases[0],C=o(d);d!==a?u.push({weight:.5*t,name:`${C}${p}/${r}`}):u.push({weight:1*t,name:`${C}${p}`})})}),u}var U={empty:!0,name:"",symbol:"",root:"",rootDegree:0,type:"",tonic:null,setNum:NaN,quality:"Unknown",chroma:"",normalized:"",aliases:[],notes:[],intervals:[]};function X(e){const[t,i,r,a]=Fe(e);return t===""?["",e]:t==="A"&&a==="ug"?["","aug"]:[t+i,r+a]}function F(e){if(e==="")return U;if(Array.isArray(e)&&e.length===2)return V(e[1],e[0]);{const[t,i]=X(e),r=V(i,t);return r.empty?V(e):r}}function V(e,t,i){const r=Ae(e),a=$(t||""),o=$(i||"");if(r.empty||t&&a.empty||i&&o.empty)return U;const c=Ee(a.pc,o.pc),u=r.intervals.indexOf(c)+1;if(!o.empty&&!u)return U;const l=Array.from(r.intervals);for(let f=1;f<u;f++){const p=l[0][0],C=l[0][1],m=parseInt(p,10)+7;l.push(`${m}${C}`),l.shift()}const d=a.empty?[]:l.map(f=>ce(a,f));e=r.aliases.indexOf(e)!==-1?e:r.aliases[0];const h=`${a.empty?"":a.pc}${e}${o.empty||u<=1?"":"/"+o.pc}`,b=`${t?a.pc+" ":""}${r.name}${u>1&&i?" over "+o.pc:""}`;return{...r,name:b,symbol:h,type:r.name,root:o.name,intervals:l,rootDegree:u,tonic:a.name,notes:d}}var tt=Ie("Chord.chord","Chord.get",F);function nt(e,t){const[i,r]=X(e);return i?ce(i,t)+r:e}function st(e){const t=F(e),i=ue(t.chroma);return Le().filter(r=>i(r.chroma)).map(r=>r.name)}function rt(e){const t=F(e),i=ue(t.chroma);return q().filter(r=>i(r.chroma)).map(r=>t.tonic+r.aliases[0])}function it(e){const t=F(e),i=Me(t.chroma);return q().filter(r=>i(r.chroma)).map(r=>t.tonic+r.aliases[0])}function ot(e){const{intervals:t,tonic:i}=F(e),r=de(t,i);return a=>a?r(a>0?a-1:a):""}function at(e){const{intervals:t,tonic:i}=F(e);return de(t,i)}var lt={getChord:V,get:F,detect:Ue,chordScales:st,extended:rt,reduced:it,tokenize:X,transpose:nt,degrees:ot,steps:at,chord:tt};function ct(e,t){let r=.1+.5*(1-e/t*100/100);var a="";let c=r/100;d(0,0);for(let h=1;h<=99;h++)r-=c,h%2===0?d(h,-r):d(h,r);d(100,0);let u=document.styleSheets[0],l=null;for(let h=0;h<u.cssRules.length;h++)if(u.cssRules[h].name==="dynamicSkew"){l=u.cssRules[h];break}l?l.cssText=`@keyframes stringVibration { ${a} }`:u.insertRule(`@keyframes stringVibration { ${a} }`,u.cssRules.length);function d(h,b){a+=`${h}% {
      transform: skewY(${b}deg);
    }`}}var me={exports:{}},ut="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",dt=ut,ft=dt;function pe(){}function be(){}be.resetWarningCache=pe;var ht=function(){function e(r,a,o,c,u,l){if(l!==ft){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}e.isRequired=e;function t(){return e}var i={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:be,resetWarningCache:pe};return i.PropTypes=i,i};me.exports=ht();var gt=me.exports;const P=fe(gt);function mt(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var ve=mt,pt=typeof O=="object"&&O&&O.Object===Object&&O,bt=pt,vt=bt,xt=typeof self=="object"&&self&&self.Object===Object&&self,yt=vt||xt||Function("return this")(),xe=yt,jt=xe,St=function(){return jt.Date.now()},Nt=St,Ct=/\s/;function kt(e){for(var t=e.length;t--&&Ct.test(e.charAt(t)););return t}var Tt=kt,wt=Tt,$t=/^\s+/;function Ft(e){return e&&e.slice(0,wt(e)+1).replace($t,"")}var At=Ft,Et=xe,It=Et.Symbol,ye=It,te=ye,je=Object.prototype,Lt=je.hasOwnProperty,Mt=je.toString,L=te?te.toStringTag:void 0;function Pt(e){var t=Lt.call(e,L),i=e[L];try{e[L]=void 0;var r=!0}catch{}var a=Mt.call(e);return r&&(t?e[L]=i:delete e[L]),a}var Ot=Pt,Wt=Object.prototype,Dt=Wt.toString;function Rt(e){return Dt.call(e)}var Vt=Rt,ne=ye,Bt=Ot,Gt=Vt,_t="[object Null]",Kt="[object Undefined]",se=ne?ne.toStringTag:void 0;function Ht(e){return e==null?e===void 0?Kt:_t:se&&se in Object(e)?Bt(e):Gt(e)}var zt=Ht;function Ut(e){return e!=null&&typeof e=="object"}var qt=Ut,Xt=zt,Yt=qt,Jt="[object Symbol]";function Qt(e){return typeof e=="symbol"||Yt(e)&&Xt(e)==Jt}var Zt=Qt,en=At,re=ve,tn=Zt,ie=0/0,nn=/^[-+]0x[0-9a-f]+$/i,sn=/^0b[01]+$/i,rn=/^0o[0-7]+$/i,on=parseInt;function an(e){if(typeof e=="number")return e;if(tn(e))return ie;if(re(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=re(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=en(e);var i=sn.test(e);return i||rn.test(e)?on(e.slice(2),i?2:8):nn.test(e)?ie:+e}var ln=an,cn=ve,H=Nt,oe=ln,un="Expected a function",dn=Math.max,fn=Math.min;function hn(e,t,i){var r,a,o,c,u,l,d=0,h=!1,b=!1,f=!0;if(typeof e!="function")throw new TypeError(un);t=oe(t)||0,cn(i)&&(h=!!i.leading,b="maxWait"in i,o=b?dn(oe(i.maxWait)||0,t):o,f="trailing"in i?!!i.trailing:f);function p(v){var k=r,I=a;return r=a=void 0,d=v,c=e.apply(I,k),c}function C(v){return d=v,u=setTimeout(S,t),h?p(v):c}function m(v){var k=v-l,I=v-d,Q=t-k;return b?fn(Q,o-I):Q}function T(v){var k=v-l,I=v-d;return l===void 0||k>=t||k<0||b&&I>=o}function S(){var v=H();if(T(v))return A(v);u=setTimeout(S,m(v))}function A(v){return u=void 0,f&&r?p(v):(r=a=void 0,c)}function y(){u!==void 0&&clearTimeout(u),d=0,r=l=a=u=void 0}function x(){return u===void 0?c:A(H())}function N(){var v=H(),k=T(v);if(r=arguments,a=this,l=v,k){if(u===void 0)return C(l);if(b)return clearTimeout(u),u=setTimeout(S,t),p(l)}return u===void 0&&(u=setTimeout(S,t)),c}return N.cancel=y,N.flush=x,N}var gn=hn;const ae=fe(gn);const le="/chord-scale-finder-v2/icons/speaker-full.svg",mn="/chord-scale-finder-v2/icons/speaker-medium.svg",pn="/chord-scale-finder-v2/icons/speaker-low.svg",bn="/chord-scale-finder-v2/icons/speaker-muted.svg";function vn({loadingSoundProgress:e}){const t=j.useRef(null),[i,r]=j.useState(!0),[a,o]=j.useState(le),[c,u]=j.useState(!1),[l,d]=j.useState(null),[h,b]=j.useState(10),f=g(m=>m.user.soundFile);j.useEffect(()=>{const m=setInterval(()=>{he.state()==="loaded"&&(r(!1),clearInterval(m))},50);return()=>{clearInterval(m)}},[f]);function p(){if(!i){l&&clearTimeout(l),u(!c);const m=setTimeout(()=>{u(!1)},2e3);d(m)}}function C(){if(!i){l&&clearTimeout(l);let m=parseInt(t.current.value);b(m),m===0&&o(bn),m>0&&m<=3&&o(pn),m>3&&m<=7&&o(mn),m>7&&m<=10&&o(le);let T=m/10;Pe.Howler.volume(T);const S=setTimeout(()=>{u(!1)},2e3);d(S)}}return n.jsxs("div",{id:"SoundController",className:`${c?"expanded":""} ${i?"loadingSound":""}`,children:[n.jsxs("button",{onClick:()=>p(),children:[n.jsx("img",{id:"speakerIcon",src:a,alt:"Volume icon"}),n.jsx("div",{className:"loader"})]}),n.jsx("input",{className:"volumeSlider",ref:t,type:"range",orient:"vertical",value:h,min:"0",max:"10",onChange:C})]})}function xn(){return n.jsx("nav",{id:"Navbar",children:n.jsxs("div",{className:"flex-wrapper",children:[n.jsxs("div",{className:"userSettings",children:[n.jsx("button",{children:"Login"}),n.jsx("button",{children:"Projects"})]}),n.jsx(vn,{})]})})}function z({onClick:e,children:t,className:i,active:r}){return n.jsx("button",{className:`button ${i} ${r?"active":""}`,onClick:e,children:t})}function Se(){const e=Oe.createRef(),t=E(),i=g(o=>o.fretboard.fretCount),r=g(o=>o.fretboard.fretCap);function a(){t(We(parseInt(e.current.value)))}return n.jsxs("div",{id:"fretCount-slider",children:[n.jsxs("h4",{children:["Frets: ",i==0?"None":i]}),n.jsx("input",{ref:e,type:"range",value:i,min:"0",max:r,onChange:a})]})}Se.propTypes={activeView:P.string,setActiveView:P.func};function Ne(){const e=E();g(r=>r.ui.currentViewSection1);const t=g(r=>r.musicTheory.key),i=g(r=>r.ui.menus);return n.jsxs("div",{id:"toolbar",children:[n.jsxs("div",{className:"Tonality wrapper",children:[n.jsx("h4",{children:"Key"}),n.jsx("div",{className:"content",children:n.jsxs(z,{active:i.keyChange.showing,onClick:()=>e(K("keyChange")),children:[t.tonic," ",t.type]})})]}),n.jsxs("div",{className:"instrument wrapper",children:[n.jsx("h4",{children:"Settings"}),n.jsx("div",{className:"content",children:n.jsx(z,{active:i.settings.showing,onClick:()=>e(K("settings")),children:"🛠️"})})]}),n.jsxs("div",{className:"menus wrapper",children:[n.jsx("h4",{children:"Quick menus"}),n.jsx("div",{className:"content",children:n.jsx(z,{active:i.instrument.showing,onClick:()=>e(K("instrument")),children:"🎵"})})]}),n.jsx(Se,{})]})}Ne.propTypes={activeView:P.string,setActiveView:P.func};function yn(e,t,i,r){let a=i.type==="minor"?i.natural.scale:i.scale;if(console.log("scale: "+a),t==="note"){for(let o of a)if(s.enharmonic(o)===e)return console.log("scaleNote: "+o),o.includes("b")?o.replace(/b/g,"♭"):o.includes("#")?o.replace(/#/g,"♯"):o;return r==="b"?s.enharmonic(e).replace(/b/g,"♭"):e.replace(/#/g,"♯")}if(t==="degree"){for(let o=0;o<a.length;o++)if(e===a[o])return o+1}else if(t==="interval"){for(let o=0;o<a.length;o++)if(e===a[o])return i.intervals[o]}else if(t==="doReMi"){for(let o=0;o<a.length;o++)if(e===i.scale[o]){if(o===0)return"Do";if(o===1)return"Re";if(o===2)return"Mi";if(o===3)return"Fa";if(o===4)return"So";if(o===5)return"La";if(o===6)return"Ti"}}return e}const Ce=j.memo(function({pitchClass:t,octave:i,noteWidth:r,labelWidth:a,selected:o,highlighted:c,stringNumber:u}){const l=g(f=>f.musicTheory.labelNotes),d=g(f=>f.musicTheory.key),h=g(f=>f.musicTheory.accidental);let b=yn(t,l,d,h);return n.jsx("button",{className:`note ${o?"selected":""} ${c?"highlighted":""}`,"data-pitchclass":t,"data-octave":i,"data-stringnumber":u,style:{minWidth:r,maxWidth:r},children:n.jsx("span",{style:{minWidth:a,maxWidth:a,minHeight:a,maxHeight:a},children:b})})});function jn({tuning:e,allNotes:t,nutIsFixed:i}){const r=g(o=>o.fretboard.notesLabelWidth),a=g(o=>o.fretboard.fretWidths);return n.jsx("div",{className:`nut ${i?"fixed":""}`,children:e.map((o,c)=>{let u=e.length-c,l=t.filter(b=>b.name===o.name&&b.appearsOnStrings.includes(u))[0],d=a[0],h=l.selectedOnStrings.includes(u);return n.jsx(Ce,{pitchClass:l.pc,octave:l.oct,noteWidth:d,labelWidth:r,selected:h,highlighted:l.highlighted,stringNumber:u},`note${l.name}string${u}`)})})}let w=[{isAnimating:null,timeout:null},{isAnimating:null,timeout:null},{isAnimating:null,timeout:null},{isAnimating:null,timeout:null},{isAnimating:null,timeout:null},{isAnimating:null,timeout:null},{isAnimating:null,timeout:null},{isAnimating:null,timeout:null},{isAnimating:null,timeout:null},{isAnimating:null,timeout:null},{isAnimating:null,timeout:null},{isAnimating:null,timeout:null}];function Sn(e,t,i,r){let a=t;for(let d=0;d<i;d++)a-=r[d];ct(a,t);let o=document.getElementsByClassName("stringVisual")[e],c=o.querySelector(".staticPart"),u=o.querySelector(".vibratingPart");w[e].timeout&&clearTimeout(w[e].timeout),u.classList.remove("animate"),u.offsetWidth,c.style.width=`calc(100% - ${a}px)`,u.style.width=`${a}px`,u.classList.add("animate");const l=[...w];l[e].isAnimating=!0,w=l,w[e].timeout=setTimeout(()=>{const d=[...w];d[e].isAnimating=!1,w=d,u.classList.remove("animate")},3e3)}function Nn(e,t,i){let r,a,o=!1,c,u,l=[],d=document.getElementById("Fretboard"),h=document.getElementById("Strings"),b=document.getElementById("FretVisuals"),f=document.getElementById("StringVisuals");d.addEventListener("mousedown",p),d.addEventListener("touchstart",C);function p(y){l=[];let x;d.classList.contains("nutIsFixed")?(x=h.clientWidth!==h.scrollWidth,l.push(h),l.push(b),l.push(f)):(x=d.clientWidth!==d.scrollWidth,l.push(d)),x&&(document.addEventListener("mousemove",m),document.addEventListener("mouseup",S),r=y.pageX-d.offsetLeft,a=l[0].scrollLeft)}function C(y){l=[];let x;d.classList.contains("nutIsFixed")?(x=h.clientWidth!==h.scrollWidth,l.push(h),l.push(b),l.push(f)):(x=d.clientWidth!==d.scrollWidth,l.push(d)),x&&(document.addEventListener("touchmove",T),document.addEventListener("touchend",A),r=y.touches[0].pageX-d.offsetLeft,a=l[0].scrollLeft)}function m(y){if(y.preventDefault(),c=y.pageX-d.offsetLeft,u=c-r,Math.abs(u)>10&&(i(!0),o=!0),o)for(let N=0;N<l.length;N++)l[N].scrollLeft=a-u}function T(y){if(y.preventDefault(),c=y.touches[0].pageX-d.offsetLeft,u=c-r,Math.abs(u)>10&&(i(!0),o=!0),o)for(let N=0;N<l.length;N++)l[N].scrollLeft=a-u}function S(){if(o){let y=l[0].scrollLeft;for(let x=0;x<l.length;x++)e(t(y));o=!1}document.removeEventListener("mouseup",S),document.removeEventListener("mousemove",m)}function A(){if(o){let y=l[0].scrollLeft;for(let x=0;x<l.length;x++)e(t(y));o=!1}document.removeEventListener("touchEnd",S),document.removeEventListener("touchMove",m)}}function ke(e,t){let i=0;for(let r=0;r<e.length;r++)i+=e[r];return i}function Cn(e,t){return e.filter(r=>r.appearsOnStrings.includes(t))}const kn=j.memo(function({notes:t,stringNumber:i}){const r=g(c=>c.fretboard.nutIsFixed),a=g(c=>c.fretboard.notesLabelWidth),o=g(c=>c.fretboard.fretWidths);return n.jsx("div",{className:"string","data-stringnumber":i,children:t.map((c,u)=>{let l=c.selectedOnStrings.includes(i),d=r?o[u+1]:o[u];return n.jsx(Ce,{pitchClass:c.pc,octave:c.oct,noteWidth:d,labelWidth:a,selected:l,highlighted:c.highlighted,stringNumber:i},`note${c.name}string${i}`)})})});function Tn({tuning:e,nutIsFixed:t,allNotes:i,fretWidths:r,width:a}){return n.jsx("div",{id:"Strings",style:{height:"145px",left:t?r[0]+"px":"auto",right:t?"unset":"auto",overflow:t?"hidden":"visible",maxWidth:t?a:"100%"},children:e.map((o,c)=>{let u=e.length-c,l=Cn(i,u);return t&&(l=l.slice(1)),n.jsx(kn,{notes:l,stringNumber:u},`string${u}`)})})}function wn({style:e,theme:t,tuning:i,fretWidths:r,fretboardWidth:a,nutIsFixed:o,width:c}){let u=ke(r);return n.jsxs(n.Fragment,{children:[n.jsx("div",{id:"StringVisuals",style:{width:o?a:u},children:i.map((l,d)=>{let h=i.length-d;return n.jsxs("div",{className:"stringVisual",style:{width:o?u:"auto"},children:[n.jsx("span",{className:"staticPart"}),n.jsx("span",{className:"vibratingPart"})]},`stringVisual${h}`)})}),o?n.jsx("div",{className:"nutVisual",style:{minWidth:r[0]+"px"}}):null,n.jsx("div",{id:"FretVisuals",className:`${o?"nutIsFixed":""}`,style:{left:o?r[0]+"px":"auto",right:o?0:"auto"},children:r.map((l,d)=>d===0&&o?null:n.jsxs("div",{className:!o&&d===0?"fretVisual nutVisual":"fretVisual",style:{minWidth:l,maxWidth:o?c:"auto"},children:[n.jsx("span",{className:"fretband"}),[3,5,7,9,15,17,19,21].includes(d)?n.jsx("span",{className:"fretMarker"}):null,[12,24].includes(d)?n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"fretMarker"}),n.jsx("span",{className:"fretMarker"})]}):null,[24].includes(d)?n.jsx("span",{className:"fretband"}):null]},`fretVisual${d}`))})]})}function $n(){const[e,t]=j.useState(!1),i=E(),r=g(f=>f.musicTheory.allNotes),a=g(f=>f.musicTheory.markNotes),o=g(f=>f.fretboard.tuning),c=g(f=>f.fretboard.fretWidths),u=g(f=>f.fretboard.nutIsFixed),l=g(f=>f.fretboard.fretboardWidth),d=g(f=>f.fretboard.fretboardStyle),h=g(f=>f.fretboard.fretboardTheme);j.useEffect(()=>{Nn(i,De,t)},[i]);function b(f){if(e)t(!1);else{let p=f.target;if(p.parentNode.classList.contains("note")&&(p=p.parentNode),p.classList.contains("note")){let C=p.parentNode,m=p.getAttribute("data-octave"),T=p.getAttribute("data-pitchclass"),S=parseInt(p.getAttribute("data-stringnumber")),A=o.length-S,y=C.querySelectorAll(".note"),x=Array.from(y).indexOf(p),N=s.get(T+m),v=p.classList.contains("selected");a!=="none"&&i(Re({note:N,stringNumber:S,wasSelected:v})),he.playNote(T+m,S);let k=ke(c);Sn(A,k,x,c)}}}return n.jsxs("div",{id:"Fretboard",className:u?"nutIsFixed":"",style:{width:l,height:145},onClick:b,children:[u?n.jsx(jn,{tuning:o,allNotes:r,nutIsFixed:u}):null,n.jsx(Tn,{tuning:o,nutIsFixed:u,allNotes:r,fretWidths:c,width:l-c[0]}),n.jsx(wn,{style:d,theme:h,tuning:o,fretWidths:c,fretboardWidth:l,nutIsFixed:u,width:l-c[0]})]})}function Fn(){let e={username:"Guest",key:M.majorKey("C"),tonality:"todo",accidental:"#",allNotes:[{...s.get("C0")},{...s.get("C#0")},{...s.get("D0")},{...s.get("D#0")},{...s.get("E0")},{...s.get("F0")},{...s.get("F#0")},{...s.get("G0")},{...s.get("G#0")},{...s.get("A0")},{...s.get("A#0")},{...s.get("B0")},{...s.get("C1")},{...s.get("C#1")},{...s.get("D1")},{...s.get("D#1")},{...s.get("E1")},{...s.get("F1")},{...s.get("F#1")},{...s.get("G1")},{...s.get("G#1")},{...s.get("A1")},{...s.get("A#1")},{...s.get("B1")},{...s.get("C2")},{...s.get("C#2")},{...s.get("D2")},{...s.get("D#2")},{...s.get("E2")},{...s.get("F2")},{...s.get("F#2")},{...s.get("G2")},{...s.get("G#2")},{...s.get("A2")},{...s.get("A#2")},{...s.get("B2")},{...s.get("C3")},{...s.get("C#3")},{...s.get("D3")},{...s.get("D#3")},{...s.get("E3")},{...s.get("F3")},{...s.get("F#3")},{...s.get("G3")},{...s.get("G#3")},{...s.get("A3")},{...s.get("A#3")},{...s.get("B3")},{...s.get("C4")},{...s.get("C#4")},{...s.get("D4")},{...s.get("D#4")},{...s.get("E4")},{...s.get("F4")},{...s.get("F#4")},{...s.get("G4")},{...s.get("G#4")},{...s.get("A4")},{...s.get("A#4")},{...s.get("B4")},{...s.get("C5")},{...s.get("C#5")},{...s.get("D5")},{...s.get("D#5")},{...s.get("E5")},{...s.get("F5")},{...s.get("F#5")},{...s.get("G5")},{...s.get("G#5")},{...s.get("A5")},{...s.get("A#5")},{...s.get("B5")},{...s.get("C6")},{...s.get("C#6")},{...s.get("D6")},{...s.get("D#6")},{...s.get("E6")},{...s.get("F6")},{...s.get("F#6")},{...s.get("G6")},{...s.get("G#6")},{...s.get("A6")},{...s.get("A#6")},{...s.get("B6")},{...s.get("C7")},{...s.get("C#7")},{...s.get("D7")},{...s.get("D#7")},{...s.get("E7")},{...s.get("F7")},{...s.get("F#7")},{...s.get("G7")},{...s.get("G#7")},{...s.get("A7")},{...s.get("A#7")},{...s.get("B7")},{...s.get("C8")},{...s.get("C#8")},{...s.get("D8")},{...s.get("D#8")},{...s.get("E8")},{...s.get("F8")},{...s.get("F#8")},{...s.get("G8")},{...s.get("G#8")},{...s.get("A8")},{...s.get("A#8")},{...s.get("B8")}],instrument:"Fretboard",nutIsFixed:!1,soundFile:"jazzBass.mp3",instrumentStyle:"default",instrumentTheme:"default",coloredNotes:!1,tuning:[s.get("G2"),s.get("D2"),s.get("A1"),s.get("E1")],markNotes:"single",labelNotes:"note",fretPosition:"all",highlightNotes:"none",menus:{keyChange:{id:"KeyChangeMenu",showing:!1},instrument:{id:"InstrumentMenu",showing:!1},settings:{id:"SettingsMenu",showing:!1}},projects:[{title:"dance with the devil in Am",key:void 0,tonality:void 0,accidental:void 0,instrument:void 0,instrumentSound:void 0,instrumentVariant:void 0,theme:void 0,coloredNotes:void 0,tuning:void 0,keyChangeMenu:{showing:!1},fretboardMenu:{showing:!1},settingsMenu:{showing:!1},soundPlayerMenu:{showing:!1}}]};for(let t of e.allNotes)t.selected=!1,t.selectedOnStrings=[],t.highlighted=!1,t.highlightedOnStrings=[],t.appearsOnStrings=[];return e}function An(){g(t=>t.musicTheory.allNotes);let e=lt.detect(["C","D","G"]);return n.jsxs("div",{id:"ChordIdentifier",children:["chord: ",e]})}function En(){return n.jsx("div",{id:"ChordScaleIdentifier",children:n.jsx(An,{})})}function Y(e){e.style.maxHeight=null}function J(e){e.style.maxHeight=e.scrollHeight+"px"}function In({showing:e}){const t=E(),i=g(c=>c.musicTheory.key);let r=s.get(i.tonic).letter;j.useEffect(()=>{let c=document.getElementById("KeyChangeMenu");e?J(c):Y(c)},[e]);function a(c,u){i.type==="major"?t(W(M.majorKey(c+u))):t(W(M.minorKey(c+u))),t(Z())}function o(c){t(c==="major"?W(M.majorKey(i.tonic)):W(M.minorKey(i.tonic))),t(Z())}return n.jsx("div",{id:"KeyChangeMenu",children:n.jsx("div",{className:"content",children:n.jsxs("div",{className:"note-selection",children:[n.jsxs("div",{className:"notes",children:[n.jsx("button",{onClick:()=>a("C",""),children:"C"}),n.jsx("button",{onClick:()=>a("D",""),children:"D"}),n.jsx("button",{onClick:()=>a("E",""),children:"E"}),n.jsx("button",{onClick:()=>a("F",""),children:"F"}),n.jsx("button",{onClick:()=>a("G",""),children:"G"}),n.jsx("button",{onClick:()=>a("A",""),children:"A"}),n.jsx("button",{onClick:()=>a("B",""),children:"B"})]}),n.jsxs("div",{className:"accidentals",children:[n.jsx("button",{onClick:()=>a(r,"b"),children:r+"b"}),n.jsx("button",{onClick:()=>a(r,""),children:r}),n.jsx("button",{onClick:()=>a(r,"#"),children:r+"#"})]}),n.jsxs("div",{className:"scaleSelection",children:[n.jsx("button",{onClick:()=>o("major"),children:"Major"}),n.jsx("button",{onClick:()=>o("minor"),children:"Minor"})]})]})})})}function Ln({showing:e}){return g(t=>t.ui.menus),j.useEffect(()=>{let t=document.getElementById("SettingsMenu");e?J(t):Y(t)},[e]),n.jsx("div",{id:"SettingsMenu",children:n.jsx("div",{className:"content",children:"Settings Menu"})})}function Mn({showing:e}){const t=E(),i=g(l=>l.musicTheory.markNotes),r=g(l=>l.musicTheory.labelNotes),a=g(l=>l.musicTheory.fretPosition),o=g(l=>l.musicTheory.highlightNotes),c=g(l=>l.fretboard.nutIsFixed);j.useEffect(()=>{let l=document.getElementById("InstrumentMenu");e?J(l):Y(l)},[e]);function u(){t(Ve(!c))}return n.jsxs("div",{id:"InstrumentMenu",children:[n.jsxs("div",{className:"settings",children:[n.jsxs("div",{className:"setting dropdown markNotes",children:[n.jsx("p",{children:"Mark notes"}),n.jsx("button",{children:i}),n.jsxs("div",{className:"dropdown-content",children:[n.jsx("button",{onClick:()=>t(D("single")),children:"Single"}),n.jsx("button",{onClick:()=>t(D("none")),children:"None"}),n.jsx("button",{onClick:()=>t(D("all")),children:"All"}),n.jsx("button",{onClick:()=>t(D("identical")),children:"Identical"})]})]}),n.jsxs("div",{className:"setting dropdown labelNotes",children:[n.jsx("p",{children:"Label notes"}),n.jsx("button",{children:r}),n.jsxs("div",{className:"dropdown-content",children:[n.jsx("button",{onClick:()=>t(R("note")),children:"Note"}),n.jsx("button",{onClick:()=>t(R("interval")),children:"Interval"}),n.jsx("button",{onClick:()=>t(R("degree")),children:"Degree"}),n.jsx("button",{onClick:()=>t(R("doReMi")),children:"DoReMi"})]})]}),n.jsxs("div",{className:"setting dropdown fretPositions",children:[n.jsx("p",{children:"Position"}),n.jsx("button",{children:a}),n.jsxs("div",{className:"dropdown-content",children:[n.jsx("button",{children:"All"}),n.jsx("button",{children:"1"}),n.jsx("button",{children:"2"}),n.jsx("button",{children:"3"}),n.jsx("button",{children:"4"}),n.jsx("button",{children:"5"})]})]}),n.jsxs("div",{className:"setting dropdown highlight",children:[n.jsx("p",{children:"Highlight"}),n.jsx("button",{children:o}),n.jsxs("div",{className:"dropdown-content highlight",children:[n.jsx("button",{children:"All"}),n.jsx("button",{children:"None"}),n.jsx("button",{onClick:()=>t,children:"Scale"})]})]}),n.jsxs("div",{className:"setting dropdown clear",children:[n.jsx("p",{children:"Clear"}),n.jsx("button",{children:"All"}),n.jsxs("div",{className:"dropdown-content clear",children:[n.jsx("button",{onClick:()=>t(deselectNotes("all")),children:"All"}),n.jsx("button",{onClick:()=>t(deselectNotes("marked")),children:"Marked"}),n.jsx("button",{onClick:()=>t(deselectNotes("highlighted")),children:"Highlighted"})]})]}),n.jsxs("div",{className:"setting dropdown fixNut",children:[n.jsx("p",{children:"Fixed nut"}),n.jsx("button",{className:c?"nutFixedButton active":"nutFixedButton",onClick:()=>u(),children:c?"Fixed":"Normal"})]})]}),n.jsx("button",{className:"closeButton",children:"🎵"})]})}function Pn(){const e=E(),t=g(c=>c.ui.currentViewSection1),i=g(c=>c.fretboard.fretboardIsReady),r=g(c=>c.user.loginSuccess),a=g(c=>c.ui.menus);j.useEffect(()=>{if(r)e(ee({}));else{let c=Fn();e(ee(c))}},[e,r]),j.useEffect(()=>{function c(){e(Be(Ge()))}return window.addEventListener("resize",ae(c,20)),()=>{window.removeEventListener("resize",ae(c,20))}},[e]);function o({view:c}){if(c==="fretboard")return n.jsx($n,{});if(c==="piano")return n.jsx(Piano,{});if(c==="instrumentSettings")return n.jsx(InstrumentSettings,{});if(c==="keyChange")return n.jsx(KeyChange,{})}return i?n.jsxs("div",{className:"appLayout",children:[n.jsx(xn,{}),n.jsx(Ne,{}),n.jsx(In,{showing:a.keyChange.showing}),n.jsx(Ln,{showing:a.settings.showing}),n.jsx(Mn,{showing:a.instrument.showing}),n.jsx(o,{view:t}),n.jsx(En,{})]}):n.jsx(_e,{})}Pn.propTypes={view:P.string};export{Pn as default};
